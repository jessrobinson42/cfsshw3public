---
title: "Joining Gapminder Data"
author: "Jess Robinson"
output: github_document
---

# Get the original data

```{r, echo = TRUE}
library(tidyverse)
library(gapminder)
library(here)
theme_set(theme_minimal())
gapminder
```

# Import the HIV data

```{r}
#loading HIV data
hivdata <-read_csv(file = here("data", "gapminder_hiv.csv"))
```

# What is the relationship between HIV prevalence and life expectancy?

```{r}
#join data
hivprevlife <- inner_join(hivdata, gapminder)
#plot data
ggplot(data = hivprevlife, mapping = aes(x=hivRate, y=lifeExp)) +
    scale_x_log10() +
    geom_point() +
    geom_smooth() +
    xlab("HIV Rate (log)") +
    ylab("Life Expectancy")
```

For this question, I chose to use an inner join, because I wanted to see only observations where there was data on both HIV prevalence and life expectancy.

# Which continents have the most countries with missing HIV data?

```{r}
#anti-joining data
missinghiv <- anti_join(gapminder, hivdata)
#plotting missing data
missinghiv %>%
 count(continent) %>%
  filter(!is.na(continent)) %>%
  ggplot(mapping = aes(x = reorder(continent, -n), y=n, fill=continent)) +
    geom_col() +
    labs(title = "Missing HIV data per continent",
    x= "Continents",
    y = "Number of Countries with Missing HIV Data",
    fill = "Continents")
```

For this question, I chose to use an anti-join, because I wanted to see observations that had missing HIV data. 



## Session info

```{r, echo = TRUE}
devtools::session_info()
```


